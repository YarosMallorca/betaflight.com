"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5613],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(r),f=a,m=u["".concat(s,".").concat(f)]||u[f]||d[f]||i;return r?n.createElement(m,o(o({ref:t},p),{},{components:r})):n.createElement(m,o({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},74463:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=r(87462),a=(r(67294),r(3905));const i={},o=void 0,l={unversionedId:"Archive/Integrated-Yaw",id:"Archive/Integrated-Yaw",title:"Integrated-Yaw",description:"Overview",source:"@site/docs/Archive/Integrated-Yaw.md",sourceDirName:"Archive",slug:"/Archive/Integrated-Yaw",permalink:"/docs/Archive/Integrated-Yaw",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"IRC-Tramp",permalink:"/docs/Archive/IRC-Tramp"},next:{title:"LED-Strip-functionality",permalink:"/docs/Archive/LED-Strip-functionality"}},s={},c=[{value:"Overview",id:"overview",level:3},{value:"Setup",id:"setup",level:3}],p={toc:c};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Integrated Yaw is a feature which corrects a fundamental issue with quad control: while the pitch and roll axis are controlled by the thrust differentials the props generate yaw is different. Yaw gyro changes happen primarily due to inertia when the rpm of the motors change. A constant acceleration of yaw requires a constant rate of increase/decrease in the rpm of the yaw motor pairs."),(0,a.kt)("p",null,"This means that on Yaw I has the effect of P and P the effect of D. FF is a control element that adds impetus based on the acceleration in setpoint rate."),(0,a.kt)("p",null,"This results in several issues on yaw. Typically yaw will react very fast initially, then fall back and catch up again over time."),(0,a.kt)("p",null,"Integrated Yaw fixes this by integrating the output of the yaw pid before applying them to the mixer. This normalizes the way the pids work. You can now tune as any other axis. It requires use of absolute control since no I is needed with Integrated Yaw."),(0,a.kt)("h3",{id:"setup"},"Setup"),(0,a.kt)("p",null,"Here are the CLI commands to enable it:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"set use_integrated_yaw=on\nset iterm_rotation=off\nset abs_control_gain=10\nset p_yaw=30\nset d_yaw=20\nset i_yaw=0\nset f_yaw=60\n")),(0,a.kt)("p",null,"The yaw pids serve as starting point and might need adjustment. Make sure I is low or zero since significant I leads to strong oscillations. Pitch and roll might require slight retuning - primarily reducing I a bit since absolute control acts similar to a second I term."),(0,a.kt)("hr",null),(0,a.kt)("p",null,"To be noted:"),(0,a.kt)("p",null,"There is no more I and maybe it doesn't make sense anymore, but in the past the CLI Command"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"set iterm_relax=RPY\n\n")),(0,a.kt)("p",null,"was mandatory."),(0,a.kt)("p",null,"Hopefully someone will edit it, if it is relevant or not..."))}u.isMDXComponent=!0}}]);