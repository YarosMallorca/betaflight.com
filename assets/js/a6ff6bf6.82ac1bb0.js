"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2306],{99465:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>g,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var t=o(85893),s=o(11151);const a={},r="Debugging Configurator in VSCode on Windows",i={id:"development/debugging/Debug-configurator-with-vscode",title:"Debugging Configurator in VSCode on Windows",description:"It is possible to debug Betaflight configurator with Visual Studio Code which is a more friendly environment than DevTools.",source:"@site/docs/development/debugging/Debug-configurator-with-vscode.md",sourceDirName:"development/debugging",slug:"/development/debugging/Debug-configurator-with-vscode",permalink:"/docs/development/debugging/Debug-configurator-with-vscode",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"development",previous:{title:"Debugging",permalink:"/docs/category/debugging"},next:{title:"Hardware Debugging In Eclipse",permalink:"/docs/development/debugging/Hardware-Debugging-in-Eclipse"}},c={},l=[{value:"Debugging Configurator in VSCode on Linux",id:"debugging-configurator-in-vscode-on-linux",level:2}];function u(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"debugging-configurator-in-vscode-on-windows",children:"Debugging Configurator in VSCode on Windows"}),"\n",(0,t.jsx)(e.p,{children:"It is possible to debug Betaflight configurator with Visual Studio Code which is a more friendly environment than DevTools.\nThis procedure has been tested only for Windows 10."}),"\n",(0,t.jsxs)(e.p,{children:["Make sure you use Configurator 10.8 + after this PR is merged:\n",(0,t.jsx)(e.a,{href:"https://github.com/betaflight/betaflight-configurator/pull/2607",children:"https://github.com/betaflight/betaflight-configurator/pull/2607"})]}),"\n",(0,t.jsx)(e.p,{children:"In VSCode, create a launch.json file (in .vscode folder) with this configuration:"}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-JSON",children:'{\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "name": "Launch Betaflight",\n            "type": "nwjs",\n            "request": "launch",\n            "runtimeExecutable": "${workspaceRoot}/debug/betaflight-configurator/win64/betaflight-configurator.exe",\n            "runtimeArgs": [\n                "${workspaceRoot}",\n                "--remote-debugging-port=9222"\n            ],\n            "port": 9222,\n            "nwjsVersion": "any",\n            "webRoot":"${workspaceRoot}/src",\n            "preLaunchTask": "build and copy package.json",\n            "postDebugTask": "delete package.json",\n        },\n        {\n            "type": "nwjs",\n            "request": "attach",\n            "name": "Attach to Betaflight",\n            "port": 9222,\n            "webRoot":"${workspaceRoot}/src/js",\n            "verbose":true,\n            "reloadAfterAttached": true\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(e.p,{children:"Create tasks.json file in .vscode folder with the following content:"}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-JSON",children:'{\n    "version": "2.0.0",\n    "tasks": [\n        {\n            "label": "delete package.json",\n            "type": "shell",\n            "command": "rm .\\\\src\\\\package.json",\n            "problemMatcher": [],\n            "group": {\n                "kind": "build",\n                "isDefault": true\n            },\n            "presentation": {\n                "showReuseMessage": false\n            }\n        },\n        {\n            "label": "build debug no start",\n            "type": "shell",\n            "command": "yarn gulp debug-no-start; copy -Path package.json -Destination .\\\\src\\\\package.json -Force",\n            "problemMatcher": [],\n            "group": {\n                "kind": "build",\n                "isDefault": true\n            },\n            "presentation": {\n                "showReuseMessage": false\n            }\n        },\n        {\n            "label": "copy package.json",\n            "type": "shell",\n            "command": "copy -Path package.json -Destination .\\\\src\\\\package.json -Force",\n            "problemMatcher": [],\n            "group": {\n                "kind": "build",\n                "isDefault": true\n            },\n            "presentation": {\n                "showReuseMessage": false\n            }\n        },\n        {\n            "label": "build and copy package.json",\n            "dependsOn": [\n                "build debug no start",\n                "copy package.json"\n            ],\n            "presentation": {\n                "showReuseMessage": false\n            }\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(e.p,{children:"Press F5 in Visual Studio Code, enjoy debugging right in your code."}),"\n",(0,t.jsx)(e.p,{children:"Files needs a little adjustment"}),"\n",(0,t.jsx)(e.h2,{id:"debugging-configurator-in-vscode-on-linux",children:"Debugging Configurator in VSCode on Linux"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"In VSCode be sure to install Debugger for NWjs"}),"\n",(0,t.jsx)(e.li,{children:"In your project create in the .vscode folder launch.json and tasks.json"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Contents of launch.json"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "name": "Launch Betaflight",\n            "type": "nwjs",\n            "request": "launch",\n            "runtimeExecutable": "${workspaceRoot}/debug/betaflight-configurator/linux64/betaflight-configurator",\n            "runtimeArgs": [\n                "${workspaceRoot}",\n                "--remote-debugging-port=9222"\n            ],\n            "port": 9222,\n            "nwjsVersion": "any",\n            "webRoot": "${workspaceRoot}/src",\n            "preLaunchTask": "build and copy package.json",\n            "postDebugTask": "delete package.json",\n        },\n        {\n            "type": "nwjs",\n            "request": "attach",\n            "name": "Attach to Betaflight",\n            "port": 9222,\n            "webRoot": "${workspaceRoot}/src/js",\n            "verbose": true,\n            "reloadAfterAttached": true\n        }\n    ]\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["Contents of ",(0,t.jsx)(e.code,{children:"tasks.json"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'{\n    "version": "2.0.0",\n    "tasks": [\n        {\n            "label": "delete package.json",\n            "type": "shell",\n            "command": "rm ./src/package.json",\n            "problemMatcher": [],\n            "group": {\n                "kind": "build",\n                "isDefault": true\n            },\n            "presentation": {\n                "showReuseMessage": false\n            }\n        },\n        {\n            "label": "build debug no start",\n            "type": "shell",\n            "command": "yarn gulp debug-no-start; cp package.json ./src/package.json",\n            "problemMatcher": [],\n            "group": {\n                "kind": "build",\n                "isDefault": true\n            },\n            "presentation": {\n                "showReuseMessage": false\n            }\n        },\n        {\n            "label": "copy package.json",\n            "type": "shell",\n            "command": "cp package.json ./src/package.json",\n            "problemMatcher": [],\n            "group": {\n                "kind": "build",\n                "isDefault": true\n            },\n            "presentation": {\n                "showReuseMessage": false\n            }\n        },\n        {\n            "label": "build and copy package.json",\n            "dependsOn": [\n                "build debug no start",\n                "copy package.json"\n            ],\n            "presentation": {\n                "showReuseMessage": false\n            }\n        }\n    ]\n}\n'})})]})}function g(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}},11151:(n,e,o)=>{o.d(e,{Z:()=>i,a:()=>r});var t=o(67294);const s={},a=t.createContext(s);function r(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);