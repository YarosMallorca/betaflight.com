"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3381],{70881:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>a,contentTitle:()=>o,default:()=>c,frontMatter:()=>n,metadata:()=>l,toc:()=>d});var s=t(85893),i=t(11151);const n={},o="AIO Betaflight F3 Flight controller",l={id:"support/boards/BETAFLIGHTF3",title:"AIO Betaflight F3 Flight controller",description:"Updates",source:"@site/docs/support/boards/BETAFLIGHTF3.md",sourceDirName:"support/boards",slug:"/support/boards/BETAFLIGHTF3",permalink:"/docs/support/boards/BETAFLIGHTF3",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"support",previous:{title:"BeeRotor F4",permalink:"/docs/support/boards/BEEROTORF4"},next:{title:"BLUEJAYF4",permalink:"/docs/support/boards/BLUEJAYF4"}},a={},d=[{value:"Updates",id:"updates",level:2},{value:"Timer mapping is modified (3.2) 2017-07-16",id:"timer-mapping-is-modified-32-2017-07-16",level:3},{value:"Description",id:"description",level:2},{value:"MCU, Sensors and Features",id:"mcu-sensors-and-features",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Features",id:"features",level:3},{value:"Manufacturers and Distributors",id:"manufacturers-and-distributors",level:2},{value:"Designers",id:"designers",level:2},{value:"Maintainers",id:"maintainers",level:2},{value:"Similar Targets",id:"similar-targets",level:2},{value:"Variants",id:"variants",level:2},{value:"FAQ &amp; Known Issues",id:"faq--known-issues",level:2},{value:"Other Resources",id:"other-resources",level:2},{value:"Issue fixes",id:"issue-fixes",level:2},{value:"SD card:",id:"sd-card",level:3},{value:"Current sensor:",id:"current-sensor",level:3},{value:"Driver related problems",id:"driver-related-problems",level:3},{value:"remapping for motors",id:"remapping-for-motors",level:3},{value:"Setup Guide:",id:"setup-guide",level:2},{value:"Image",id:"image",level:2}];function h(e){const r={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"aio-betaflight-f3-flight-controller",children:"AIO Betaflight F3 Flight controller"}),"\n",(0,s.jsx)(r.h2,{id:"updates",children:"Updates"}),"\n",(0,s.jsx)(r.h3,{id:"timer-mapping-is-modified-32-2017-07-16",children:"Timer mapping is modified (3.2) 2017-07-16"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Software serial no longer interfere with motors 1-4."}),"\n",(0,s.jsx)(r.li,{children:"Software serial pads/TH can be used for motors 5-6 (dshot enabled; hexa-dshot)."}),"\n",(0,s.jsx)(r.li,{children:"In the hexa-dshot configuration, LED strip has DMA conflict with motor 5. Use of other timer resource, presumably PPM, is advised."}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"OSD + PDB + SD card adapter"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"mcu-sensors-and-features",children:"MCU, Sensors and Features"}),"\n",(0,s.jsx)(r.h3,{id:"hardware",children:"Hardware"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"(Fill in hardware specs and add any not listed)"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"MCU: STM32F303CCT6"}),"\n",(0,s.jsx)(r.li,{children:"IMU: MPU-6000"}),"\n",(0,s.jsx)(r.li,{children:"IMU Interrupt:"}),"\n",(0,s.jsx)(r.li,{children:"BARO: no"}),"\n",(0,s.jsx)(r.li,{children:"USB: STM32 VCP"}),"\n",(0,s.jsx)(r.li,{children:"Hardware UARTS: 3"}),"\n",(0,s.jsx)(r.li,{children:"OSD: uses a AB7456 chip"}),"\n",(0,s.jsx)(r.li,{children:"Blackbox: SD Card"}),"\n",(0,s.jsx)(r.li,{children:"PPM/UART Shared:"}),"\n",(0,s.jsx)(r.li,{children:"Battery Voltage Sensor: Yes"}),"\n",(0,s.jsx)(r.li,{children:"Current sensor: 0.5 mOhm"}),"\n",(0,s.jsx)(r.li,{children:"Integrated Voltage Regulator: 3A, 5V or 3V for RX and VBAT or 5V for VTX/camera with filtered AGND"}),"\n",(0,s.jsx)(r.li,{children:"Buttons: BOOT button"}),"\n",(0,s.jsx)(r.li,{children:"Software Serial broken out"}),"\n",(0,s.jsx)(r.li,{children:"Weight: 5.4 grams"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"features",children:"Features"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"(add list of features)"})}),"\n",(0,s.jsx)(r.h2,{id:"manufacturers-and-distributors",children:"Manufacturers and Distributors"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"http://www.fpvmodel.com/-pre-order-betaflight-f3-flight-controller_g1231.html",children:"http://www.fpvmodel.com/-pre-order-betaflight-f3-flight-controller_g1231.html"}),"\n",(0,s.jsx)(r.a,{href:"https://strictlyracingdrones.com/shop/electronics/betaflightf3-flight-controller/",children:"https://strictlyracingdrones.com/shop/electronics/betaflightf3-flight-controller/"})]}),"\n",(0,s.jsx)(r.h2,{id:"designers",children:"Designers"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"FPVModel"}),"\n",(0,s.jsx)(r.li,{children:"Boris B"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"maintainers",children:"Maintainers"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"(add your name here if you help test or contribute code for this board)"})}),"\n",(0,s.jsx)(r.h2,{id:"similar-targets",children:"Similar Targets"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"(add links board descriptions here that are similar in features or function, but have a separate target)"})}),"\n",(0,s.jsx)(r.h2,{id:"variants",children:"Variants"}),"\n",(0,s.jsx)(r.h2,{id:"faq--known-issues",children:"FAQ & Known Issues"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"(add FAQs, known issues and workarounds specifically related to this board. please link work in progress issues to the related github issue or pull request)"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"format is reporter [name], (status): issue contents"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"The DSM2/SBUS pad is connected to RX2"}),"\n",(0,s.jsx)(r.li,{children:"LED_STRIP conflicts with motor 2 in Betaflight 3.1.0. Upgrade to version 3.1.6+ to fix it."}),"\n",(0,s.jsx)(r.li,{children:"The ground plane acts as a heatsink, making the ground (-) pads difficult to solder to. Preheat the area you're working on with a hot air station at 100\xb0C - 150\xb0C (200\xb0F - 300\xb0F) to make soldering faster and easier"}),"\n",(0,s.jsx)(r.li,{children:"SD card needs to be formatted to specific parameters"}),"\n",(0,s.jsx)(r.li,{children:"Current sensor needs to be calibrated in BF software"}),"\n",(0,s.jsx)(r.li,{children:"Filtered power rail(RAM) is weak"}),"\n",(0,s.jsx)(r.li,{children:"osd and 16/9 cameras do produce flickers in the osd"}),"\n",(0,s.jsx)(r.li,{children:"USB 5V power is connected to main 5V rail. If you have a lot of devices connected, e.g. buzzer, LED strip, Rx etc, USB might shut down. Power up on battery before connecting to USB in such cases."}),"\n",(0,s.jsx)(r.li,{children:"Status LED is inverted and connected in parallel with the beeper (PC15). So the light is on when beeper is quiet, and visa verse. A bit odd."}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"other-resources",children:"Other Resources"}),"\n",(0,s.jsx)(r.h2,{id:"issue-fixes",children:"Issue fixes"}),"\n",(0,s.jsx)(r.h3,{id:"sd-card",children:"SD card:"}),"\n",(0,s.jsx)(r.p,{children:"Samsung Evo class 10 series, 16GB or 32GB seem to work better than others\n(this may or may not work)"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Format card in SDcardformatter v4"}),"\n",(0,s.jsx)(r.li,{children:"Insert card, flash BF 3.1.3 (on usb only no extra power)"}),"\n",(0,s.jsx)(r.li,{children:"Straight to CLI and set sdcard_dma=on"}),"\n",(0,s.jsx)(r.li,{children:"Card should initialize and the icon in the blackbox tab under the BF GUI should show it green"}),"\n",(0,s.jsx)(r.li,{children:"back to CLI and set sdcard_dma=off"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"current-sensor",children:"Current sensor:"}),"\n",(0,s.jsx)(r.p,{children:"There is a resistor that can be measured and scaling number can be calculated from that value."}),"\n",(0,s.jsxs)(r.p,{children:["picture of resistor in link below\nit may be in a different place but should be around there\n",(0,s.jsx)(r.a,{href:"https://static.rcgroups.net/forums/attachments/5/9/3/2/6/3/a9650746-128-EDB2C10E-33D3-40BA-988A-6029EA696B4F.jpg",children:"https://static.rcgroups.net/forums/attachments/5/9/3/2/6/3/a9650746-128-EDB2C10E-33D3-40BA-988A-6029EA696B4F.jpg"})]}),"\n",(0,s.jsxs)(r.p,{children:["here is the procedure for calculating the value\n",(0,s.jsx)(r.a,{href:"https://www.rcgroups.com/forums/showthread.php?2798055-Understanding-Current-Meters",children:"https://www.rcgroups.com/forums/showthread.php?2798055-Understanding-Current-Meters"})]}),"\n",(0,s.jsx)(r.h3,{id:"driver-related-problems",children:"Driver related problems"}),"\n",(0,s.jsxs)(r.p,{children:["Some people have been complaining about computer(windows pc's) not being able to see the board.\nIn boot loader mode, the default STM USB-dfu driver needs to be replaced with the generic WinUSB driver the Firmware Flasher in configurator can use. Zadig or IRCDF does this job for you.\nZadig ",(0,s.jsx)(r.a,{href:"http://zadig.akeo.ie/",children:"http://zadig.akeo.ie/"}),"\nimpulserc driver fixer ",(0,s.jsx)(r.a,{href:"https://impulserc.blob.core.windows.net/utilities/ImpulseRC_Driver_Fixer.exe",children:"https://impulserc.blob.core.windows.net/utilities/ImpulseRC_Driver_Fixer.exe"})," (link to official irc site)\nIn normal mode, the STM VCP driver needs to be installed. ",(0,s.jsx)(r.a,{href:"http://www.st.com/en/development-tools/stsw-stm32102.html",children:"http://www.st.com/en/development-tools/stsw-stm32102.html"})]}),"\n",(0,s.jsx)(r.p,{children:"This is in no way special or specific for this board. All FC's with a STM USB-VCP port behave like this. Read Installing-Betaflight"}),"\n",(0,s.jsx)(r.h3,{id:"remapping-for-motors",children:"remapping for motors"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"http://i.imgur.com/Mh41SmG.jpg",children:"http://i.imgur.com/Mh41SmG.jpg"})}),"\n",(0,s.jsx)(r.h2,{id:"setup-guide",children:"Setup Guide:"}),"\n",(0,s.jsx)(r.p,{children:"Example:\nTramp HV or Unify Pro HV:\nTelemitry to UART 3 TX pin\nVideo to video out\nPower from VBAT and AGND"}),"\n",(0,s.jsx)(r.p,{children:"Camera:\nVideo to video in\npower from VBAT and AGND"}),"\n",(0,s.jsx)(r.p,{children:"X4R-SB:\nSmartport telemitry to UART 1 TX pin\nSBUS to UART 2\nPower from 5v rail"}),"\n",(0,s.jsxs)(r.p,{children:["Rcgroups Thread: ",(0,s.jsx)(r.a,{href:"https://www.rcgroups.com/forums/showthread.php?2795213-NEW-Betaflight-F3-Flight-Controller-OSD-PDB-SD-card-BEC-current-sensor",children:"https://www.rcgroups.com/forums/showthread.php?2795213-NEW-Betaflight-F3-Flight-Controller-OSD-PDB-SD-card-BEC-current-sensor"})]}),"\n",(0,s.jsxs)(r.p,{children:["Probably the first video about the BFF3: ",(0,s.jsx)(r.a,{href:"https://www.youtube.com/watch?v=kr16b45Lhw4",children:"https://www.youtube.com/watch?v=kr16b45Lhw4"})]}),"\n",(0,s.jsxs)(r.p,{children:["helpful for someone who is starting a build with the Betaflight F3 FC...(Note: this is a ARMATTAN CHAMELEON Build using the BFF3 FC). ",(0,s.jsx)(r.a,{href:"https://www.youtube.com/watch?v=wmbRVg3stoE",children:"https://www.youtube.com/watch?v=wmbRVg3stoE"})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://www.rcgroups.com/forums/showthread.php?2795213-NEW-Betaflight-F3-Flight-Controller-OSD-PDB-SD-card-BEC-current-sensor",children:"https://www.rcgroups.com/forums/showthread.php?2795213-NEW-Betaflight-F3-Flight-Controller-OSD-PDB-SD-card-BEC-current-sensor"})}),"\n",(0,s.jsx)(r.h2,{id:"image",children:"Image"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"http://www.fpvmodel.com/-pre-order-betaflight-f3-flight-controller_g1231.html",children:"http://www.fpvmodel.com/-pre-order-betaflight-f3-flight-controller_g1231.html"})})]})}function c(e={}){const{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},11151:(e,r,t)=>{t.d(r,{Z:()=>l,a:()=>o});var s=t(67294);const i={},n=s.createContext(i);function o(e){const r=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);