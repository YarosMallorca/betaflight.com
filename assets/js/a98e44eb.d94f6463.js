"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6515],{37485:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>h,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var s=t(85893),n=t(11151);const o={},i="Serial Passthrough",l={id:"wiki/guides/current/Serial-Pass-Through",title:"Serial Passthrough",description:"Update FrSky XSR RX Firmware",source:"@site/docs/wiki/guides/current/Serial-Pass-Through.md",sourceDirName:"wiki/guides/current",slug:"/wiki/guides/current/Serial-Pass-Through",permalink:"/docs/wiki/guides/current/Serial-Pass-Through",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"wiki",previous:{title:"Serial Blackbox Logging",permalink:"/docs/wiki/guides/current/Serial-BlackBox-Logging"},next:{title:"Servos & Servo Tilt",permalink:"/docs/wiki/guides/current/Servos-And-SERVO_TILT-for-3-1"}},h={},a=[{value:"Update FrSky XSR RX Firmware",id:"update-frsky-xsr-rx-firmware",level:2},{value:"FrSky Tool",id:"frsky-tool",level:3},{value:"FrSky Rx Firmware",id:"frsky-rx-firmware",level:3},{value:"The Process",id:"the-process",level:3},{value:"If the Rx is powered up by USB",id:"if-the-rx-is-powered-up-by-usb",level:2},{value:"NOTES",id:"notes",level:2},{value:"minimOSD Serial Pass-through",id:"minimosd-serial-pass-through",level:2}];function d(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"serial-passthrough",children:"Serial Passthrough"}),"\n",(0,s.jsx)(r.h2,{id:"update-frsky-xsr-rx-firmware",children:"Update FrSky XSR RX Firmware"}),"\n",(0,s.jsx)(r.p,{children:"I was unable to replicate due to issues with the FrSky tool not loading COM ports. If you are familiar with this procedure, please update if necessary."}),"\n",(0,s.jsxs)(r.p,{children:["UPDATE: Joshua Bardwell has posted a video on this process. See\n",(0,s.jsx)(r.a,{href:"https://www.youtube.com/watch?v=Hzf-EuQZYsE",children:"https://www.youtube.com/watch?v=Hzf-EuQZYsE"})]}),"\n",(0,s.jsx)(r.h3,{id:"frsky-tool",children:"FrSky Tool"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/stk/",children:"https://www.frsky-rc.com/stk/"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Expand ",(0,s.jsx)(r.strong,{children:"Tool-FrSky update sport"})]}),"\n",(0,s.jsxs)(r.li,{children:["Click the ",(0,s.jsx)(r.strong,{children:"Download"})," button"]}),"\n",(0,s.jsx)(r.li,{children:"Extract the contents (it's a .zip) and remember the location"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"frsky-rx-firmware",children:"FrSky Rx Firmware"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/download/",children:"https://www.frsky-rc.com/download/"})}),"\n",(0,s.jsx)(r.p,{children:"Download the firmware for your Rx (if you don't see your Rx, below, go to the download page (above) and find the correct firmware for your model Rx). Extract and remember the location:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/xsr/",children:"https://www.frsky-rc.com/xsr/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/r-xsr/",children:"https://www.frsky-rc.com/r-xsr/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/xm-plus-mini-sbus-non-telemetry-full-range/",children:"https://www.frsky-rc.com/xm-plus-mini-sbus-non-telemetry-full-range/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/x4rsb/",children:"https://www.frsky-rc.com/x4rsb/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/r9-mini/",children:"https://www.frsky-rc.com/r9-mini/"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.frsky-rc.com/r9-slim-plus/",children:"https://www.frsky-rc.com/r9-slim-plus/"})}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"the-process",children:"The Process"}),"\n",(0,s.jsxs)(r.p,{children:["NOTE: This might not work in every case. To increase success rate, it's important to power the Rx from a 5 volt source other than a dedicated Rx power pad, ",(0,s.jsx)(r.em,{children:"as you do not want the Rx to be powered by USB"}),". On some flight controllers, there is a set of dedicated pads for Rx, i.e., Ground, 5V, and Signal. The 5V pad is sometimes powered when connecting USB. You want to ",(0,s.jsx)(r.em,{children:"avoid"})," this 5V source and tap into any other 5V source on the FC."]}),"\n",(0,s.jsx)(r.p,{children:"ALSO, this works best if you know SmartPort is working, as you will use this UART. It's much easier to deal with an F4 flight controller that has a dedicated SmartPort pad. If no dedicated pad, then you'll need to understand inversion, which is beyond this scope. F3's and F7's natively support UART inversion, so almost any UART Tx pad will do, so it's a non-issue on those."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"IMPORTANT!"})," Don't disconnect power while flashing/upgrading your Rx!"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Connect the copter to your computer via USB (if the Rx powers up, might as well stop - it should not power up), and note the COM port"}),"\n",(0,s.jsxs)(r.li,{children:["Go to ",(0,s.jsx)(r.strong,{children:"Ports"})," tab and note the UART SmartPort is on, and subtract 1 (e.g., if SmartPort is on UART 3, then 2 is the number you want)"]}),"\n",(0,s.jsx)(r.li,{children:"Open Betaflight Configurator, connect you copter, access CLI"}),"\n",(0,s.jsxs)(r.li,{children:["Enter and send command ",(0,s.jsx)(r.code,{children:"serialpassthrough 2 57600"})," (where '2' is the UART ID; remember, UART 3 is actually ID 2, UART 2 would be 1, and UART 1 would be 0), then press ",(0,s.jsx)(r.strong,{children:"ENTER"}),"."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"If all went well, you should see:"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"Port 2 opened, baud = 57600"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"Forwarding, power cycle to exit"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Close Betaflight Configurator (but do not power cycle the FC)"}),"\n",(0,s.jsxs)(r.li,{children:["Start the ",(0,s.jsx)(r.strong,{children:"FrSky_Update_sport_rev"}),"... tool (this will be found in the folder where the contents of ",(0,s.jsx)(r.em,{children:"Tool-FrSky update sport"})," were extracted to)"]}),"\n",(0,s.jsx)(r.li,{children:"Select the COM port (whatever Betaflight Configurator was using)."}),"\n",(0,s.jsxs)(r.li,{children:["Then click the ",(0,s.jsx)(r.strong,{children:"File"}),' button and navigate to where you extracted the firmware update for your Rx. The tool is now waiting to find a device; the bottom of the tool window will show "',(0,s.jsx)(r.em,{children:'Finding device..."'})]}),"\n",(0,s.jsx)(r.li,{children:"Apply power to the copter (LiPo), which will power the Rx."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:'If that went well, you should see the firmware version at the bottom of the tool window, instead of "Finding device". If this is not the case, then it didn\'t work.'}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["If okay up to this point, click the ",(0,s.jsx)(r.strong,{children:"Download"}),' button...the status message at the bottom should now read "Please wait, in progressing" (their typo, not mine)']}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"if-the-rx-is-powered-up-by-usb",children:"If the Rx is powered up by USB"}),"\n",(0,s.jsxs)(r.p,{children:['It happens in some cases. If you have such a setup, you will need some way to disconnect the receiver, i.e. use a plug. Reconnect it once the tool window shows "',(0,s.jsx)(r.em,{children:'Finding device..."'})," and flashing will commence. Try at own risk."]}),"\n",(0,s.jsx)(r.h2,{id:"notes",children:"NOTES"}),"\n",(0,s.jsx)(r.p,{children:"From BryceJ:\nOn my Spracingf3 board with a CP210x it would only work if I had my MSP changed to 57600 as well. Not sure what is the issue there. (If you change the MSP speed make sure you reconnect to the configurator at 57600 as well)"}),"\n",(0,s.jsx)(r.p,{children:"If you use the PID/VTx adjustment on the taranis, make sure that still works. There was a couple versions that it didn't."}),"\n",(0,s.jsx)(r.p,{children:"For disconnecting the XSR, if you have the plug still on there you can plug and unplug that. On a x4r it would be a little more annoying if you direct soldered it."}),"\n",(0,s.jsx)(r.h2,{id:"minimosd-serial-pass-through",children:"minimOSD Serial Pass-through"}),"\n",(0,s.jsx)(r.p,{children:"Allows use of the MW OSD Configurator to adjust settings and load fonts."}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://www.youtube.com/watch?v=5ABd0gz3ckI",children:"Video"})})]})}function c(e={}){const{wrapper:r}={...(0,n.a)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,r,t)=>{t.d(r,{Z:()=>l,a:()=>i});var s=t(67294);const n={},o=s.createContext(n);function i(e){const r=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);