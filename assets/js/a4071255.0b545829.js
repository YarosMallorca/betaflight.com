"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7401],{62763:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var r=o(85893),i=o(11151);const t={},s="Remapping Motors with Resource Command",c={id:"wiki/guides/current/Remapping-Motors-with-Resource-Command",title:"Remapping Motors with Resource Command",description:"Necessity for swapping/shifting/rotating motor positions rises from time to time. Before v3.1, we had to either use long wires between FC and ESC to retain the original mapping (which make the build messy) or use a custom mix to change how each motor contributes to attitude adjustment.",source:"@site/docs/wiki/guides/current/Remapping-Motors-with-Resource-Command.md",sourceDirName:"wiki/guides/current",slug:"/wiki/guides/current/Remapping-Motors-with-Resource-Command",permalink:"/docs/wiki/guides/current/Remapping-Motors-with-Resource-Command",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"wiki",previous:{title:"Rate Calculator",permalink:"/docs/wiki/guides/current/Rate-Calculator"},next:{title:"Resource Remapping Command",permalink:"/docs/wiki/guides/current/Resource-remapping"}},a={},d=[];function l(e){const n={a:"a",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"remapping-motors-with-resource-command",children:"Remapping Motors with Resource Command"}),"\n",(0,r.jsx)(n.p,{children:"Necessity for swapping/shifting/rotating motor positions rises from time to time. Before v3.1, we had to either use long wires between FC and ESC to retain the original mapping (which make the build messy) or use a custom mix to change how each motor contributes to attitude adjustment."}),"\n",(0,r.jsxs)(n.p,{children:["With 3.1, we can easily modify motor mappings with ",(0,r.jsx)(n.code,{children:"resource"})," CLI command. See ",(0,r.jsx)(n.a,{href:"Resource-remapping",children:"Betaflight resource mapping"})," for descriptions of this command."]}),"\n",(0,r.jsxs)(n.p,{children:["####Videos:\nA Joshua Bardwell Video: ",(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=z5aO-3_n-Hs",children:"Resource Remapping- No more Custom Motor Mixer"}),"\nProject Blue Falcon video: ",(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=cEMfs_4X2VM",children:"Find Bad ESC output Pin and Remap Motors"})]}),"\n",(0,r.jsxs)(n.p,{children:["A Blue Falcon video:\n",(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=cEMfs_4X2VM&feature=youtu.be&t=159",children:"Remap Motors In Betaflight (damaged pins fix) "})]}),"\n",(0,r.jsx)(n.p,{children:"###Examples:"}),"\n",(0,r.jsx)(n.p,{children:'Here, the most common case of "rotating FC or PDB" is taken as an example.'}),"\n",(0,r.jsx)(n.p,{children:"Suppose you have a board with motor numbers labeled like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"     FRONT\n4            2\n\n3            1\n     BACK\n"})}),"\n",(0,r.jsx)(n.p,{children:"and for some reason, you want to rotate the board 90-degrees clock wise, ending up with"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"     FRONT\n3            4\n\n1            2\n     BACK\n"})}),"\n",(0,r.jsx)(n.p,{children:"Let's fix this."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Record the current motor mapping"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Type ",(0,r.jsx)(n.code,{children:"resource list"})," to find out the original mapping."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# resource list\n...\nA06: MOTOR 1\nA07: MOTOR 2\nA11: MOTOR 3\nA12: MOTOR 4\n...\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Write a diagram with the original pin to motor mapping."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"       FRONT\n4(A12)       2(A7)\n\n3(A11)       1(A6)\n       BACK\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Rotate the drawing clock wise 90-degrees."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"       FRONT\n3(A11)       4(A12)\n\n1(A6)        2(A7)\n       BACK\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Remove the old motor position label."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"       FRONT\nA11            A12\n\nA6             A7\n       BACK\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is your actual MCU pin position."}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"Assign new motor position label to the MCU pins."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"       FRONT\n4(A11)       2(A12)\n\n3(A6)        1(A7)\n       BACK\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is your new mapping."}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"The cli resource command for this mapping is:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"resource motor 1 a7\nresource motor 2 a12\nresource motor 3 a6\nresource motor 4 a11\nsave\n"})}),"\n",(0,r.jsxs)(n.p,{children:["As you enter these commands, you will be seeing error messages in the form ",(0,r.jsx)(n.code,{children:"* ERROR * X also used by MOTOR Y"}),". The overlapping mapping is transitional, and you will be ending up with clean mapping at the end. If you don't like the error messages, you can clear the old mapping by following typing following commands prior to new mapping."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"resource motor 1 none\nresource motor 2 none\nresource motor 3 none\nresource motor 4 none\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is just an example. Please work on your case on your own and verify the results before flying."}),"\n",(0,r.jsx)(n.p,{children:"Have fun!!!"})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>c,a:()=>s});var r=o(67294);const i={},t=r.createContext(i);function s(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);