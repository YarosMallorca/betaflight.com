"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1669],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>m});var a=o(67294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=a.createContext({}),h=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=h(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=h(o),c=n,m=u["".concat(l,".").concat(c)]||u[c]||p[c]||r;return o?a.createElement(m,i(i({ref:t},d),{},{components:o})):a.createElement(m,i({ref:t},d))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,i[1]=s;for(var h=2;h<r;h++)i[h]=o[h];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}c.displayName="MDXCreateElement"},78141:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>h});var a=o(87462),n=(o(67294),o(3905));const r={sidebar_position:2},i="Hardware",s={unversionedId:"wiki/getting-started/hardware",id:"wiki/getting-started/hardware",title:"Hardware",description:"There's a lot of parts that go into making FCs function the way they do, with different sensors, power management and outputs. This page will go over the different parts of a FC, what they do, and which parts are being used.",source:"@site/docs/wiki/getting-started/hardware.mdx",sourceDirName:"wiki/getting-started",slug:"/wiki/getting-started/hardware",permalink:"/docs/wiki/getting-started/hardware",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"wiki",previous:{title:"Setup Guide",permalink:"/docs/wiki/getting-started/setup-guide"},next:{title:"Troubleshooting",permalink:"/docs/wiki/getting-started/troubleshooting"}},l={},h=[{value:"Main Components &amp; General IO",id:"main-components--general-io",level:2},{value:"MCU",id:"mcu",level:3},{value:"Voltage Regulator",id:"voltage-regulator",level:3},{value:"OSD",id:"osd",level:3},{value:"Positioning Sensors",id:"positioning-sensors",level:2},{value:"Gyroscope/Accelerometer",id:"gyroscopeaccelerometer",level:3},{value:"Barometer",id:"barometer",level:3},{value:"Magnetometer",id:"magnetometer",level:3},{value:"GPS",id:"gps",level:3}],d={toc:h};function u(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"hardware"},"Hardware"),(0,n.kt)("p",null,"There's a lot of parts that go into making FCs function the way they do, with different sensors, power management and outputs. This page will go over the different parts of a FC, what they do, and which parts are being used."),(0,n.kt)("h2",{id:"main-components--general-io"},"Main Components & General IO"),(0,n.kt)("h3",{id:"mcu"},"MCU"),(0,n.kt)("p",null,'MCU (Microcontroller Unit) is the main chip on the FC, you can think of it as the "brain". It\'s responsible for running the flight controller software, and processing all the data from the sensors. From those inputs it does a bunch of ',(0,n.kt)("del",{parentName:"p"},"magic")," computation to generate the signals that go to the ESCs and run the motors."),(0,n.kt)("p",null,"Most FCs use MCUs that are based on the ARM Cortex architecture. Most often made by STM, but recently there's been a few MCUs from ArteryTek used."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},'You have most likely seen something like "F4", "F7", or maybe further specified as "F411", "F405", and "F722". These are designations for the different MCU lines. They vary in flash size, RAM, and clock speed. Generally, the higher the number, the more powerful the MCU is.'),(0,n.kt)("p",{parentName:"admonition"},"In order of power, from least to most:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"STM32F411 - Very common in budget and/or AIO FCs due to its low cost and small size. But it's not that powerful compared to most other MCUs"),(0,n.kt)("li",{parentName:"ul"},"STM32G473 - A newer option from STM, it's a bit more powerful than the F411, but not as developed and established"),(0,n.kt)("li",{parentName:"ul"},"STM32F405 - Pretty much the most common option, it's a good balance of power and cost, being in use for a long time"),(0,n.kt)("li",{parentName:"ul"},"AT32F435 - ArteryTek's new alternative to the F405, directly pin-compatible, but with a bit more power"),(0,n.kt)("li",{parentName:"ul"},"STM32F722 - Very popular high-end option, but it has a limited flash size. This is not much of a problem nowadays with the Cloud Build system which allows a lot of space saving"),(0,n.kt)("li",{parentName:"ul"},"STM32F745 - Somewhat more powerful than the F722, but with more available flash space make it a good option for high-end builds without going overboard"),(0,n.kt)("li",{parentName:"ul"},"STM32H743 - The most powerful (and expensive) option. It's not really needed for most builds, but it's a good option if you want to go all out"))),(0,n.kt)("div",{className:"grid grid-cols-2 gap-4"},(0,n.kt)("p",null,(0,n.kt)("img",{alt:"STM32F405",src:o(54299).Z,width:"700",height:"612"}))),(0,n.kt)("h3",{id:"voltage-regulator"},"Voltage Regulator"),(0,n.kt)("p",null,"The voltage regulator is responsible for taking the input voltage and stepping it up/down to the voltage that the MCU and other components need. The MCU and oboard sensors usually run at 3.3V, and external peripherals like receivers, cameras, and some lower-power VTXs run at 5V. For running higher power VTXs, or basically most of the Digital options out there, you may see a 9/10/12V regulator (though 12V is recommended nowadays)."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"If one or more of the regulators are overloaded, they may cause the rest of the electronics to not function properly, not function at all, or even destroy the regulation circuitry (in some cases the components connected to it as well). This is why it's important to make sure that the regulator is rated for the current draw of the components you're using. On most hardware configurations this should not be an issue, but for example when running a lot of LEDs, it is possible to overload the 5V regulator.")),(0,n.kt)("h3",{id:"osd"},"OSD"),(0,n.kt)("p",null,"To get OSD on analog video, the FC takes in the raw video signal directly from the camera, and feeds it through the MAX7456 chip (also the AT7456E - a drop-in replacement) which is used to overlay basic sprites defined in the font file ontop of the video. The modified analog video is then sent out to the VTX to be transmitted."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"For Digital video systems, an analog OSD chip is not necessary, as the OSD information is transmitted to the digital VTX to be sent out along with the video, and only gets overlaid in the goggles. This allows clean video recording, and export of the OSD data among other things.")),(0,n.kt)("h2",{id:"positioning-sensors"},"Positioning Sensors"),(0,n.kt)("h3",{id:"gyroscopeaccelerometer"},"Gyroscope/Accelerometer"),(0,n.kt)("p",null,"Uses gyroscopic principles to measure the orientation and angular velocity of the FC. The gyroscope measures the angular velocity, and the accelerometer measures the orientation."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The gyro is used for flight modes that do not require the FC to know how it's oriented, only needing the velocity, such as Acro mode"),(0,n.kt)("li",{parentName:"ul"},"An accelerometer is used to measure the orientation of the FC in flight modes/features that require spatial orientation, such as Angle/Horizon mode, and GPS Rescue")),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Pretty much every FC has a single chip package that contains both the gyro and accelerometer, usually communicating over SPI. Similar to the MCU's, there is a lot of variety:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Invensense MPU6000 - It has been in use for a very long time, and is still regarded by many as the best option. It went out of production at one point (which pretty much kickstarted all of the other options), but it's back now")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Bosch BMI270 - One of the best alternatives to the MPU6000. However to make it perform the best, it runs at a lower speed than most of the rest (8KHz on the MPU6000, 3.2KHz on the BMI270)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Invensense ICM42xxx/ICM20xxx - A newer option, spread in use when the MPU6000 went out of production for a little while. It used to perform worse, but past version 4.4.1, it's on par (or even better) than the MPU6000. No need to worry about products using them")))),(0,n.kt)("div",{className:"grid grid-cols-2 gap-4"},(0,n.kt)("p",null,(0,n.kt)("img",{alt:"MPU6000",src:o(75283).Z,width:"600",height:"600"})),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"ICM-42688-P",src:o(61435).Z,width:"1200",height:"1200"}))),(0,n.kt)("h3",{id:"barometer"},"Barometer"),(0,n.kt)("p",null,"Used to measure the air pressure, which can be used to calculate the altitude of the sensor. It's used in GPS Rescue modes to safely lnd and more. In the future planned for altitude hold and even more advanced features."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"The most often-used barometer you'll see on most FCs is the Bosch BMP280. There are some others like the BMP180, MS5611 or DPS310, but they're not as common.")),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"The barometer chips need to have a hole in the package itself (see pictures below), so that it can even get a reading of the air pressure. You put use a piece of open-cell foam on top to help get a better measurement. If you are using conformal coating, make sure to not cover the hole, or the barometer will not work.")),(0,n.kt)("div",{className:"grid grid-cols-2 gap-4"},(0,n.kt)("p",null,(0,n.kt)("img",{alt:"BMP280",src:o(382).Z,width:"600",height:"600"}))),(0,n.kt)("h3",{id:"magnetometer"},"Magnetometer"),(0,n.kt)("p",null,"Measures the magnetic field around itself - basically just a compass. Used to tell the orientation of the FC relative to the Earth's magnetic field. In the current 4.4.1 release, it's not yet fully worked out to aid the advanced GPS Rescue, but it's planned for releases to come."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Magnetometers (as the name would suggest) are very sensitive to magnetic fields. This includes electronic interference, be that from the motors, ESCs, or the VTX/receiver. It's recommended to keep the magnetometer as far away from these as possible if you're using an external one (GPS units often come with them integrated), and to calibrate it carefully to get usable results.")),(0,n.kt)("h3",{id:"gps"},"GPS"),(0,n.kt)("p",null,"Used to get the position of the FC, and the speed it's moving at, utilizing the Global Positioning System which is a network of satellites orbiting the Earth. Can also be used with more local systems like GLONASS, and Galileo. This gives the FC accurate position and speed data, which can be displayed on the OSD, sent back to the radio for localization after a crash, or even bring the craft back to you with GPS Rescue."),(0,n.kt)("admonition",{type:"danger"},(0,n.kt)("p",{parentName:"admonition"},"Most GPS units on the market are based on the M8 chipset from uBlox. However, there are newer modules that use the M10 chipset. These work much better than M8... with a slight catch. As of the 4.4.1 release, The M10 is not supported for autoconfiguration in Betaflight yet, so you'll have to configure it manually in the u-center software. If not configured properly, it will lead to unreliable performance.")))}u.isMDXComponent=!0},382:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/betaflight_hardware_bmp280-e42a6b82d8fe4691508ef999ff19a900.webp"},61435:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/betaflight_hardware_icm42688p-e2ec224ed80ef99776e45c37b5a52596.jpg"},75283:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/betaflight_hardware_mpu6000-8f2eddc87fab7759ff0ff30c0ff03f19.jpg"},54299:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/betaflight_hardware_stm32f405-bde735fdfb0d731629a02bdaa55735dd.webp"}}]);